<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Eternal Brothers FC</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore.js"></script>
<style>
body { font-family: "Cairo", Arial, sans-serif; background-color:#121212; color:#e0e0e0; text-align:center; padding:20px; }
.nav-buttons { display:flex; justify-content:center; gap:20px; margin-bottom:30px; }
.nav-buttons button { padding:12px 20px; font-weight:600; border-radius:8px; cursor:pointer; border:none; color:#fff; font-size:16px; display:flex; align-items:center; gap:6px; }
button#home { background-color:#d32f2f; }
button#blue { background-color:#1976d2; }
button#yellow { background-color:#fbc02d; color:#000; }
.container { max-width:650px; margin:auto; background:#1e1e1ecc; padding:35px 25px; border-radius:15px; box-shadow:0 0 15px #000; display:none; }
h1 { font-size:32px; margin-bottom:15px; }
h2 { font-size:24px; margin:20px 0 10px; }
input[type=text] { padding:12px; width:70%; margin:10px 0 15px 0; border-radius:8px; border:1px solid #555; text-align:center; font-size:16px; background-color:#2c2c2c; color:#fff; }
button.add { background-color:#1976d2; margin:0 5px; }
button.add:hover { background-color:#0d47a1; }
ul { list-style:none; padding:0; text-align:left; margin-top:20px; }
li { background:#2c2c2c; margin:10px 0; padding:12px; border-radius:8px; display:flex; justify-content:space-between; align-items:center; }
#chatBox { max-height:300px; overflow-y:auto; background:#2c2c2c; padding:10px; border-radius:8px; margin-bottom:10px; text-align:left; }
#chatInput { padding:10px; width:70%; border-radius:6px; border:1px solid #555; background:#1e1e1e; color:#fff; }
</style>
</head>
<body>

<div class="nav-buttons">
    <button id="blue" onclick="showSection('blueSection')">üîµ Blue Team</button>
    <button id="home" onclick="showSection('mainSection')">üè† Main Team</button>
    <button id="yellow" onclick="showSection('yellowSection')">üü° Yellow Team</button>
</div>

<!-- Main Team -->
<div id="mainSection" class="container">
<h1>Eternal Brothers FC</h1>
<input type="text" id="nameInput" placeholder="Enter your name">
<button class="add" onclick="addMember()">Add</button>

<h2>Main Team List (24 max)</h2>
<ul id="teamList"></ul>
<h2>Waiting List</h2>
<ul id="waitingList"></ul>

<h2>Team Chat</h2>
<div id="chatBox"></div>
<input type="text" id="chatInput" placeholder="Type message...">
<button class="add" onclick="sendMessage()">Send</button>
<button class="add" style="background:#d32f2f;" onclick="clearChat()">Clear Chat</button>
</div>

<!-- Blue Team -->
<div id="blueSection" class="container">
<h2>Blue Team</h2>
<input type="text" id="blueInput" placeholder="Player name">
<button class="add" onclick="addBlue()">Add</button>
<ul id="blueList"></ul>
</div>

<!-- Yellow Team -->
<div id="yellowSection" class="container">
<h2>Yellow Team</h2>
<input type="text" id="yellowInput" placeholder="Player name">
<button class="add" onclick="addYellow()">Add</button>
<ul id="yellowList"></ul>
</div>

<script type="module">
// Firebase
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey:"AIzaSyAPB2dHdpBwIvPBpkFlu9EbRwbdswV7iI8",
  authDomain:"eternal-brothers-fc.firebaseapp.com",
  projectId:"eternal-brothers-fc",
  storageBucket:"eternal-brothers-fc.firebasestorage.app",
  messagingSenderId:"884144294831",
  appId:"1:884144294831:web:6601570db1f25ebac77d5a",
  measurementId:"G-54F4M68EFN"
};
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// UI Logic
function showSection(id){
    document.querySelectorAll('.container').forEach(c=>c.style.display='none');
    document.getElementById(id).style.display='block';
}
showSection('mainSection');

// Data
let team=[], waiting=[], blueTeam=[], yellowTeam=[];
const maxTeam=24, maxBlue=12, maxYellow=12;

// Firestore
async function loadList(name,id){
    const ref=doc(db,"teams",name);
    const snap=await getDoc(ref);
    if(snap.exists()){ const data=snap.data();
        if(name==="mainTeam") team=data.players||[];
        else if(name==="waiting") waiting=data.players||[];
        else if(name==="blueTeam") blueTeam=data.players||[];
        else yellowTeam=data.players||[];
    }
    renderAll();
}
async function saveList(name,list){ await setDoc(doc(db,"teams",name),{players:list}); }
async function loadAll(){ await loadList("mainTeam","teamList"); await loadList("waiting","waitingList"); await loadList("blueTeam","blueList"); await loadList("yellowTeam","yellowList"); }

// Add members
async function addMember(){ const input=document.getElementById('nameInput'); let name=input.value.trim(); if(!name)return; if(team.includes(name)||waiting.includes(name)) return; if(team.length<maxTeam) team.push(name); else waiting.push(name); input.value=""; await saveList("mainTeam",team); await saveList("waiting",waiting); renderAll(); }
async function addBlue(){ const input=document.getElementById('blueInput'); let name=input.value.trim(); if(!name)return; if(blueTeam.includes(name)) return; if(blueTeam.length>=maxBlue)return; blueTeam.push(name); input.value=""; await saveList("blueTeam",blueTeam); renderAll();}
async function addYellow(){ const input=document.getElementById('yellowInput'); let name=input.value.trim(); if(!name)return; if(yellowTeam.includes(name)) return; if(yellowTeam.length>=maxYellow)return; yellowTeam.push(name); input.value=""; await saveList("yellowTeam",yellowTeam); renderAll();}

// Render
function renderList(id,list){ document.getElementById(id).innerHTML=list.map((n,i)=>`<li>${i+1}. ${n}</li>`).join(''); }
function renderAll(){ renderList("teamList",team); renderList("waitingList",waiting); renderList("blueList",blueTeam); renderList("yellowList",yellowTeam); }

// Chat
const chatRef=doc(db,"teams","chat");
async function loadChat(){ const snap=await getDoc(chatRef); const box=document.getElementById('chatBox'); box.innerHTML=''; if(snap.exists()){ const msgs=snap.data().messages||[]; msgs.forEach(m=>{ const div=document.createElement('div'); div.textContent=`${m.name}: ${m.text}`; div.style.borderBottom='1px solid #444'; div.style.padding='4px 2px'; box.appendChild(div); }); box.scrollTop=box.scrollHeight; } }
async function sendMessage(){ const text=document.getElementById('chatInput').value.trim(); if(!text)return; const name=document.getElementById('nameInput').value.trim()||"Anon"; const snap=await getDoc(chatRef); let msgs=[]; if(snap.exists()) msgs=snap.data().messages||[]; msgs.push({name,text,time:Date.now()}); await setDoc(chatRef,{messages:msgs}); document.getElementById('chatInput').value=''; loadChat();}
async function clearChat(){ if(!confirm("Clear chat?")) return; await setDoc(chatRef,{messages:[]}); document.getElementById('chatBox').innerHTML=''; }
loadAll();
setInterval(loadChat,2000);
</script>
</body>
</html>
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-firestore.js"></script>
<script>
  const firebaseConfig = { ... };
  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
  
  function addMember() { ... } 
  function addBlue() { ... }
  function addYellow() { ... }
</script>
